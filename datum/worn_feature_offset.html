<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/worn_feature_offset - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/worn_feature_offset.html#var">Var Details</a> - <a href="datum/worn_feature_offset.html#proc">Proc Details</a></header><main><h1>worn_feature_offset <aside>/<a href="datum.html">datum</a>/<a href="datum/worn_feature_offset.html">worn_feature_offset</a></aside> <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L3"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 3"></a></h1><p>A datum for controlling how to position items on an unusually offset body part
For instance if you have an asymmetrical head, hats might need to be offset to one side</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/worn_feature_offset.html#var/attached_part">attached_part</a></th><td>What are we attached to</td></tr><tr><th><a href="datum/worn_feature_offset.html#var/feature_key">feature_key</a></th><td>Key used to identify what this offset applies to</td></tr><tr><th><a href="datum/worn_feature_offset.html#var/offset_x">offset_x</a></th><td>Offsets to apply on the x axis for each direction</td></tr><tr><th><a href="datum/worn_feature_offset.html#var/offset_y">offset_y</a></th><td>Offsets to apply on the y axis for each direction</td></tr><tr><th><a href="datum/worn_feature_offset.html#var/owner">owner</a></th><td>Owner of mob we are attached to, could be null on a severed limb</td></tr><tr><th><a href="datum/worn_feature_offset.html#var/rotation_modifier">rotation_modifier</a></th><td>Rotation modifier to apply for each direction.</td></tr><tr><th><a href="datum/worn_feature_offset.html#var/size_modifier">size_modifier</a></th><td>Size modifier to apply for each direction.</td></tr><tr><th><a href="datum/worn_feature_offset.html#var/update_body_parts">update_body_parts</a></th><td>Should we call an update body parts when we offset? Makes hair rotate.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/worn_feature_offset.html#proc/apply_offset">apply_offset</a></th><td>Applies the current offset to a provided overlay image</td></tr><tr><th><a href="datum/worn_feature_offset.html#proc/changed_owner">changed_owner</a></th><td>When the owner of the bodypart changes, update our signal registrations</td></tr><tr><th><a href="datum/worn_feature_offset.html#proc/get_offset">get_offset</a></th><td>Returns the current offset which should be used for this feature</td></tr><tr><th><a href="datum/worn_feature_offset.html#proc/on_dir_change">on_dir_change</a></th><td>When we change direction, re-apply the offset</td></tr><tr><th><a href="datum/worn_feature_offset.html#proc/on_owner_deleted">on_owner_deleted</a></th><td>If the owner is deleted, stop updating</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/attached_part"><aside class="declaration">var </aside>attached_part <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a></aside> <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 7"></a></h3><p>What are we attached to</p><h3 id="var/feature_key"><aside class="declaration">var </aside>feature_key <aside>– </aside> <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 9"></a></h3><p>Key used to identify what this offset applies to</p><h3 id="var/offset_x"><aside class="declaration">var </aside>offset_x <aside>– /list</aside> <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L11"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 11"></a></h3><p>Offsets to apply on the x axis for each direction</p><h3 id="var/offset_y"><aside class="declaration">var </aside>offset_y <aside>– /list</aside> <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 13"></a></h3><p>Offsets to apply on the y axis for each direction</p><h3 id="var/owner"><aside class="declaration">var </aside>owner <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a></aside> <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L5"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 5"></a></h3><p>Owner of mob we are attached to, could be null on a severed limb</p><h3 id="var/rotation_modifier"><aside class="declaration">var </aside>rotation_modifier <aside>– /list</aside> <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 17"></a></h3><p>Rotation modifier to apply for each direction.</p><h3 id="var/size_modifier"><aside class="declaration">var </aside>size_modifier <aside>– /list</aside> <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L15"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 15"></a></h3><p>Size modifier to apply for each direction.</p><h3 id="var/update_body_parts"><aside class="declaration">var </aside>update_body_parts <aside>– </aside> <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 19"></a></h3><p>Should we call an update body parts when we offset? Makes hair rotate.</p><h2 id="proc">Proc Details</h2><h3 id="proc/apply_offset"><aside class="declaration">proc </aside>apply_offset<aside>(/<a href="image.html">image</a>/overlay)  <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L58"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 58"></a></aside></h3><p>Applies the current offset to a provided overlay image</p><h3 id="proc/changed_owner"><aside class="declaration">proc </aside>changed_owner<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/part, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/new_owner, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/old_owner)  <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L72"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 72"></a></aside></h3><p>When the owner of the bodypart changes, update our signal registrations</p><h3 id="proc/get_offset"><aside class="declaration">proc </aside>get_offset<aside>()  <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 48"></a></aside></h3><p>Returns the current offset which should be used for this feature</p><h3 id="proc/on_dir_change"><aside class="declaration">proc </aside>on_dir_change<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/owner, olddir, newdir)  <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L90"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 90"></a></aside></h3><p>When we change direction, re-apply the offset</p><h3 id="proc/on_owner_deleted"><aside class="declaration">proc </aside>on_owner_deleted<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/host)  <a href="https://github.com/tiiktaaaliik/Ponystation13/blob/25aa224de9b6883d0d344796bb01ad25cf81f5e9/code/modules/surgery/bodyparts/worn_feature_offset.dm#L85"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/worn_feature_offset.dm 85"></a></aside></h3><p>If the owner is deleted, stop updating</p></main><footer>tgstation.dme <a href="https://github.com/tiiktaaaliik/Ponystation13/tree/25aa224de9b6883d0d344796bb01ad25cf81f5e9">25aa224</a> (main) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>